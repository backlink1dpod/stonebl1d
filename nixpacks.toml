# QUAN TRỌNG: Dòng này ép Railway kích hoạt cả Node và Go
providers = ["node", "go"]

# Cài đặt thêm Hugo và Git (vì provider Node/Go không có sẵn Hugo)
[phases.setup]
nixPkgs = ["hugo", "git"]

# Đảm bảo Hugo biết đây là môi trường Production
[variables]
HUGO_ENVIRONMENT = "production"

# Ghi đè lệnh build (để chắc chắn nó chạy đúng lệnh này)
[phases.build]
cmds = ["npm install && npm run build"]